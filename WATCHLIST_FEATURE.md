# A 股自选功能说明

## 新增功能

### 1. 自选股票管理

- **位置**: A 股市场页面顶部
- **功能**:
  - 添加自选股票（支持搜索代码/拼音）
  - 实时显示自选股票行情
  - 移除自选股票
  - 刷新自选数据

### 2. 股票搜索功能

- **触发**: 点击"添加股票"按钮
- **搜索支持**:
  - 股票代码（如：600519）
  - 股票名称（如：贵州茅台）
  - 拼音首字母（如：gzmt）
- **特性**: 实时搜索（300ms 防抖）

### 3. 股票详情弹窗

- **触发**: 点击任意股票卡片
- **内容**:
  - 实时行情（价格、涨跌幅）
  - 开高低收成交量
  - K 线图（日 K/周 K/月 K 切换）
  - 最新公告（开发中）

## 技术实现

### 数据存储

- 使用 localStorage 存储自选列表
- 格式: `[{ code: 'sh600519', name: '贵州茅台' }, ...]`

### API 端点

- `GET /api/a-share/search?q={keyword}` - 搜索股票
- `GET /api/a-share/quote/{code}` - 获取实时行情
- `GET /api/a-share/kline/{code}?period={day|week|month}` - 获取 K 线数据

### 组件结构

```
WatchlistSection (自选区域)
├── StockSearchModal (搜索弹窗)
└── StockDetailModal (详情弹窗)
    └── KlineChart (K线图表)
```

## 使用流程

1. **添加自选**:

   - 点击"添加股票"按钮
   - 输入代码/名称/拼音搜索
   - 点击搜索结果中的"添加"按钮

2. **查看详情**:

   - 点击自选列表或热门股票中的任意股票卡片
   - 弹窗展示详细信息和 K 线图
   - 可切换不同周期的 K 线

3. **管理自选**:
   - 鼠标悬停在自选股票卡片上
   - 点击右上角的"×"按钮移除
   - 点击"刷新"按钮更新所有自选股票数据

## 后续优化计划

1. [ ] 从东方财富 API 获取完整股票列表
2. [ ] 实现公告信息展示
3. [ ] 添加自选股票排序功能
4. [ ] 支持分组管理自选
5. [ ] 添加价格提醒功能
6. [ ] 支持导出/导入自选列表
